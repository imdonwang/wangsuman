import{c as j,r as c,p as k,f as o,j as e,P as v,N as y,B as p,a as b,e as i}from"./index-2a70a137.js";import"./video-js-0409baae.js";const C=h=>{const{f7route:d,f7router:N}=h,s=j.useRef(),[l,x]=c.useState(5);c.useEffect(()=>{k({r:d.path})},[]);const n=a=>{o.toast.create({text:a,position:"center",closeTimeout:2e3}).open()},f=()=>{const a=s.current;if(a.value){const r=new URLSearchParams;r.append("t","en"),r.append("exp",l),r.append("data",a.value),o.preloader.show(),fetch("https://api.wangsuman.com:8000/secret",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r}).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.text()}).then(t=>{o.preloader.hide(),a.value=t}).catch(t=>{o.preloader.hide(),console.error("There was a problem with the fetch operation:",t)})}else n("加密内容为空")},u=()=>{const a=s.current;if(a.value){const r=new URLSearchParams;r.append("t","de"),r.append("exp",l),r.append("data",a.value),o.preloader.show(),fetch("https://api.wangsuman.com:8000/secret",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r}).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.text()}).then(t=>{o.preloader.hide(),a.value=t}).catch(t=>{o.preloader.hide(),console.error("There was a problem with the fetch operation:",t)})}else n("解密内容为空")},m=a=>{x(a.target.value)},w=()=>{const a=s.current;a.value="",a.focus()},g=async()=>{const a=s.current;window.navigator.clipboard?(await navigator.clipboard.writeText(a.value),n("已复制")):n("不支持复制")};return e.jsxs(v,{children:[e.jsx(y,{title:"文本加密与解密",backLink:"返回"}),e.jsxs("div",{className:"wsm-page",children:[e.jsxs(p,{children:[e.jsx(b,{children:"加密/解密文本"}),e.jsx("div",{className:"display-flex justify-content-right margin-bottom-half",children:e.jsxs("select",{id:"exp",style:{WebkitAppearance:"auto",border:"1px solid rgba(0,0,0,.15)",padding:"5px 5px"},onChange:a=>m(a),children:[e.jsx("option",{value:"5",children:"设置有效期（默认5分钟）"}),e.jsx("option",{value:"10",children:"10分钟"}),e.jsx("option",{value:"15",children:"15分钟"}),e.jsx("option",{value:"30",children:"30分钟"}),e.jsx("option",{value:"60",children:"60分钟"})]})}),e.jsx("textarea",{ref:s,style:{border:"1px solid rgba(0,0,0,.15)",width:"100%",padding:"5px 5px"},id:"data",rows:"10",placeholder:"输入加密/解密的文本数据，文本长度<1000"})]}),e.jsxs(p,{className:"display-flex flex-direction-row justify-content-right",children:[e.jsxs(i,{fill:!0,color:"pink",onClick:w,children:[e.jsx("i",{className:"fa-light fa-broom-wide margin-right-half"}),"清空"]}),e.jsxs(i,{fill:!0,className:"margin-left-half",onClick:g,children:[e.jsx("i",{className:"fa-light fa-copy margin-right-half"}),"复制"]}),e.jsxs(i,{fill:!0,className:"margin-left-half",onClick:f,children:[e.jsx("i",{className:"fa-light fa-lock margin-right-half"}),"加密"]}),e.jsxs(i,{fill:!0,className:"margin-left-half",onClick:u,children:[e.jsx("i",{className:"fa-light fa-lock-open margin-right-half"}),"解密"]})]})]})]})};export{C as default};
